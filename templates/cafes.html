{% extends 'base.html' %}
{% block title %}Restaurants{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <div class="col-sm-12">

      <h1>All Cafes</h1>
      <!-- Add button to navigate to add cafe page -->
      <a href="{{ url_for('add_cafe') }}" class="btn btn-primary mb-3">Add New Cafe</a>

      <table class="table table-light table-striped table-hover">
        <!-- Table Header -->
        <thead>
          <tr>
            {% for header in cafes[0] %}
              <th scope="col">{{ header }}</th>
            {% endfor %}
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody>
        <!-- cafes[0] is the header like cafe name, loca, open etc -->
        <!-- cafes[1:] skip the first row and only the data-->
          {% for row in cafes[1:] %}
            <tr>
              {% for cell in row %}
                <td>
                  {% if loop.index0 == 1 %}
                    <!-- Make the URL a clickable link -->
                    <a href="{{ cell }}" target="_blank">Visit Location</a>
                  {% else %}
                    {{ cell }}
                  {% endif %}
                </td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <p><a href="{{ url_for('home') }}">Return to index page</a></p>


    </div>
  </div>
</div>
{% endblock %}
